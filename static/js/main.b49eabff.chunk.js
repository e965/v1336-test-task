(this["webpackJsonpv1336-test-task"]=this["webpackJsonpv1336-test-task"]||[]).push([[0],{19:function(e,t,a){e.exports=a(30)},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),i=a.n(r),c=(a(24),a(11)),u=a(9),s=a(6),o={appID:"e965:reactapp",plants:[],well:{}},m=Object(u.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_PLANTS":return Object(s.a)({},e,{plants:t.payload});case"SELECT_WELL":return Object(s.a)({},e,{well:t.payload});default:return e}},lastAction:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return e}}),d=Object(u.c)(m),h=a(1),p=a(2),E=a(4),f=a(3),b=a(5),v=function(e){return l.a.createElement("i",{className:"fa fa-".concat(e.name),style:{pointerEvents:"none"},"aria-hidden":"true"})},g=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"createButton",value:function(e){return l.a.createElement("button",null,l.a.createElement(v,{name:e}))}},{key:"render",value:function(){return l.a.createElement("header",{className:"header"},l.a.createElement("ul",{className:"header--left"},l.a.createElement("li",null,this.createButton("bars"))),l.a.createElement("ul",{className:"header--right"},l.a.createElement("li",null,this.createButton("phone")),l.a.createElement("li",null,this.createButton("info"))))}}]),t}(l.a.Component),y=a(10),O=function(e){return l.a.createElement("div",{className:"select-wrapper"},l.a.createElement("select",{id:e.id,style:e.styles,value:e.value,onChange:e.changeEvent},e.children),l.a.createElement(v,{name:"chevron-down"}))},_=function(e){return Math.floor(Math.random()*e)},j=0,N=function(e){var t=[0,6,12,18],a=[8,12];return e.forEach((function(e){e.title="\u0426\u0435\u0445 \u2116".concat(e.num),e.brigades=[];for(var n=0;n<=e.brigadesNum;n++)e.brigades.push({});delete e.brigadesNum,e.brigades.forEach((function(n,l){n.title="\u0411\u0440\u0438\u0433\u0430\u0434\u0430 ".concat(e.num<10?"0".concat(e.num):e.num).concat(l<10?"0".concat(l):l),n.field=e.fields[_(e.fields.length)],n.wells=[];for(var r=0;r<=10;r++)n.wells.push(j+=1+_(10));n.times={},n.times.startDate=new Date(Date.now()-24*_(12)*60*60*1e3).setHours(0,0,0,0),n.times.startTime=new Date(n.times.startDate).setHours(t[_(t.length)],0,0,0),n.times.endTime=new Date(n.times.startTime+60*a[_(a.length)]*60*1e3).getTime()})),delete e.num,delete e.fields})),e}([{num:1,fields:["\u041f\u0430\u0432\u043b\u043e\u0432\u0441\u043a\u043e\u0435","\u0427\u0438\u043a\u0443\u043b\u0430\u0435\u0432\u0441\u043a\u043e\u0435","\u0427\u0435\u0440\u043d\u0443\u0448\u0438\u043d\u0441\u043a\u043e\u0435","\u0422\u0440\u0443\u0448\u043d\u0438\u043a\u043e\u0432\u0441\u043a\u043e\u0435","\u042d\u0442\u044b\u0448\u0441\u043a\u043e\u0435","\u0414\u043e\u0440\u043e\u0445\u043e\u0432\u0441\u043a\u043e\u0435"],brigadesNum:20},{num:2,fields:["\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a\u043e-\u041a\u0443\u0435\u0434\u0438\u043d\u0441\u043a\u043e\u0435","\u0413\u043e\u043d\u0434\u044b\u0440\u0435\u0432\u0441\u043a\u043e\u0435","\u0421\u0442\u0435\u043f\u0435\u043d\u043e\u0432\u0441\u043a\u043e\u0435","\u0410\u043a\u0441\u0430\u0438\u0442\u043e\u0432\u0441\u043a\u043e\u0435"],brigadesNum:12},{num:3,title:"\u0426\u0435\u0445 \u21163",fields:["\u0428\u0430\u0433\u0438\u0440\u0442\u043e-\u0413\u043e\u0436\u0430\u043d\u0441\u043a\u043e\u0435","\u0410\u043f\u0442\u0443\u0433\u0430\u0439\u0441\u043a\u043e\u0435","\u0428\u0430\u0433\u0438\u0440\u0441\u043a\u043e\u0435","\u041a\u0443\u0434\u0440\u044f\u0432\u0446\u0435\u0432\u0441\u043a\u043e\u0435","\u0411\u044b\u0440\u043a\u0438\u043d\u0441\u043a\u043e\u0435","\u0410\u043b\u044c\u043d\u044f\u0448\u0441\u043a\u043e\u0435"],brigadesNum:16}]),w=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(f.a)(t).call(this,e))).state={num:"",cluster:"",brigade:"",field:""},d.subscribe((function(){"SELECT_WELL"===d.getState().lastAction.type&&a.setState(Object(s.a)({},d.getState().reducer.well))})),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){return l.a.createElement("form",{id:this.props.id,onSubmit:this.handleSubmit},l.a.createElement("div",{className:"inputs input-group","data-flex":!0},l.a.createElement("label",{htmlFor:this.props.id+"_ti"},this.props.labelText),l.a.createElement("input",{id:this.props.id+"_ti",type:"text",value:this.state[this.props.value],readOnly:!0})),l.a.createElement("div",{className:"inputs "+(this.props.children.length>0?"input-group":"input-one"),"data-flex":this.props.flex},this.props.children))}}]),t}(l.a.Component),S=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(f.a)(t).call(this,e))).state={channel:""},a.handleChange=a.handleChange.bind(Object(y.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState({channel:e.target.value})}},{key:"openData",value:function(){var e=JSON.parse(JSON.stringify(N));e.forEach((function(e){e.brigades.forEach((function(e){Object.keys(e.times).forEach((function(t){var a;e.times[t]=(a=e.times[t],new Date(a).toLocaleDateString([],{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))}))}))})),window.open("about:blank").document.body.innerHTML="<pre>".concat(JSON.stringify(e,null,"  "),"</pre>")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"main__data"},l.a.createElement(w,{id:"data_brigade",labelText:"\u0411\u0440\u0438\u0433\u0430\u0434\u0430",value:"brigade"},l.a.createElement(O,{id:"data_brigade_sel",value:this.state.channel,changeEvent:this.handleChange},l.a.createElement("option",{disabled:!0,hidden:!0,value:""},"\u041a\u0430\u043d\u0430\u043b\u044b"),l.a.createElement("option",null,"\u0420\u043e\u0441\u0441\u0438\u044f 24"),l.a.createElement("option",null,"2\u04452"),l.a.createElement("option",null,"\u0421\u0422\u0421"),l.a.createElement("option",null,"\u041f\u0435\u0440\u0432\u044b\u0439 \u043a\u0430\u043d\u0430\u043b"),l.a.createElement("option",null,"PewDiePie"),l.a.createElement("option",null,"\u0411\u0435\u043b\u043e\u043c\u043e\u0440\u0441\u043a\u043e-\u0411\u0430\u043b\u0442\u0438\u0439\u0441\u043a\u0438\u0439"),l.a.createElement("option",null,"#aniperm"))),l.a.createElement(w,{id:"data_field",labelText:"\u041c\u0435\u0441\u0442\u043e\u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0435",value:"field"},l.a.createElement("button",null,l.a.createElement(v,{name:"area-chart"}),l.a.createElement("span",null,"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c"))),l.a.createElement(w,{id:"data_cluster",labelText:"\u041a\u0443\u0441\u0442",value:"cluster",flex:!0},l.a.createElement("input",{className:"fa fa-bar-chart",type:"checkbox"}),l.a.createElement("input",{className:"fa fa-hashtag",type:"checkbox"}),l.a.createElement("input",{className:"fa fa-key-modern",type:"checkbox"}),l.a.createElement("input",{className:"fa fa-download",type:"checkbox"}),l.a.createElement("input",{className:"fa fa-anchor",type:"checkbox"})),l.a.createElement(w,{id:"data_well",labelText:"\u0421\u043a\u0432\u0430\u0436\u0438\u043d\u0430",value:"num",flex:!0},l.a.createElement("button",{onClick:function(){e.openData()}},l.a.createElement(v,{name:"print"})),l.a.createElement("button",null,l.a.createElement(v,{name:"cogs"})),l.a.createElement("button",null,l.a.createElement(v,{name:"file-text"}))))}}]),t}(l.a.Component),k=a(13),D=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(f.a)(t).call(this,e))).appID=a.props.appID,a.state={time_1:localStorage.getItem("".concat(a.appID,":time_1"))?localStorage.getItem("".concat(a.appID,":time_1")):"today",time_2:localStorage.getItem("".concat(a.appID,":time_2"))?Number(localStorage.getItem("".concat(a.appID,":time_2"))):0,time_3:localStorage.getItem("".concat(a.appID,":time_3"))?Number(localStorage.getItem("".concat(a.appID,":time_3"))):24},a.dispatch=a.props.dispatch,a.dispatch(a.filterPlants(a.state)),a.handleChange=a.handleChange.bind(Object(y.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"filterPlants",value:function(e){var t=JSON.parse(JSON.stringify(N)),a={};switch(e.time_2=Number(e.time_2),e.time_3=Number(e.time_3),e.time_1){case"today":case"yesterday":a.startDay=new Date("today"===e.time_1?Date.now():Date.now()-864e5).setHours(0,0,0,0),a.startTime=new Date(a.startDay).setHours(e.time_2),a.endTime=new Date(a.startTime).getTime()+60*e.time_3*60*1e3;break;case"week":a.startTime=new Date(Date.now()-6048e5).setHours(0,0,0,0),a.endTime=new Date(Date.now()+864e5).setHours(23,59,59,999)}return t.forEach((function(e){e.brigades=e.brigades.filter((function(e){return e.times.startTime>=a.startTime&&e.times.endTime<=a.endTime}))})),{type:"FILTER_PLANTS",payload:t=t.filter((function(e){return e.brigades.length>0}))}}},{key:"handleChange",value:function(e){var t=this;try{localStorage.setItem("".concat(this.appID,":").concat(e.target.id),e.target.value)}catch(a){}this.setState(Object(k.a)({},e.target.id,e.target.value),(function(){t.dispatch(t.filterPlants(t.state))}))}},{key:"render",value:function(){return l.a.createElement("form",{id:"time_select",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"inputs input-group","data-flex":!0},l.a.createElement("label",{htmlFor:"time_1"},l.a.createElement(v,{name:"clock-o"})),l.a.createElement(O,{id:"time_1",value:this.state.time_1,changeEvent:this.handleChange},l.a.createElement("option",{value:"today"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),l.a.createElement("option",{value:"yesterday"},"\u0412\u0447\u0435\u0440\u0430"),l.a.createElement("option",{value:"week"},"\u041d\u0435\u0434\u0435\u043b\u044f"))),l.a.createElement("div",{className:"inputs input-group","data-flex":!0},l.a.createElement("label",{htmlFor:"time_2"},l.a.createElement(v,{name:"hourglass-half"})),l.a.createElement("div",{className:"inputs input-group--column"},l.a.createElement(O,{id:"time_2",value:this.state.time_2,changeEvent:this.handleChange},l.a.createElement("option",{value:"0"},"\u041d\u0430\u0447\u0430\u043b\u043e 00:00"),l.a.createElement("option",{value:"6"},"\u041d\u0430\u0447\u0430\u043b\u043e 06:00"),l.a.createElement("option",{value:"12"},"\u041d\u0430\u0447\u0430\u043b\u043e 12:00"),l.a.createElement("option",{value:"18"},"\u041d\u0430\u0447\u0430\u043b\u043e 18:00")),l.a.createElement(O,{id:"time_3",styles:{marginTop:"1px"},value:this.state.time_3,changeEvent:this.handleChange},l.a.createElement("option",{value:"1"},"1 \u0447\u0430\u0441"),l.a.createElement("option",{value:"6"},"6 \u0447\u0430\u0441"),l.a.createElement("option",{value:"12"},"12 \u0447\u0430\u0441\u043e\u0432"),l.a.createElement("option",{value:"18"},"18 \u0447\u0430\u0441\u043e\u0432"),l.a.createElement("option",{value:"24"},"24 \u0447\u0430\u0441\u0430")))))}}]),t}(l.a.Component),T=Object(c.b)((function(e){return Object(s.a)({},e.reducer)}))(D),C=function(){return l.a.createElement("div",{className:"main__time"},l.a.createElement(T,null))},x=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(f.a)(t).call(this,e))).dispatch=a.props.dispatch,a.state={plants:d.getState().reducer.plants},d.subscribe((function(){"FILTER_PLANTS"===d.getState().lastAction.type&&a.setState((function(e,t){return{plants:t.plants}}))})),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"choiceWell",value:function(e){return e.brigade=e.brigade.split(" ")[1],{type:"SELECT_WELL",payload:e}}},{key:"handleWellChoice",value:function(e){this.dispatch(this.choiceWell(e))}},{key:"render",value:function(){var e=this,t=[];return this.state.plants.forEach((function(a,n){var r=[];a.brigades.forEach((function(t,a){var n=[];t.wells.forEach((function(a,r){var i={num:a,cluster:1,brigade:t.title,field:t.field},c=l.a.createElement("li",{key:r},l.a.createElement("button",{onClick:function(){e.handleWellChoice(i)}},"\u0421\u043a\u0432. \u2116",a));n.push(c)}));var i=l.a.createElement("li",{key:a},l.a.createElement("details",null,l.a.createElement("summary",null,t.title),l.a.createElement("ul",null,n)));r.push(i)}));var i=l.a.createElement("li",{key:n},l.a.createElement("details",null,l.a.createElement("summary",null,a.title),l.a.createElement("ul",null,r)));t.push(i)})),l.a.createElement("div",{className:"main__list"},l.a.createElement("ul",null,t))}}]),t}(l.a.Component),I=Object(c.b)((function(e){return Object(s.a)({},e.reducer)}))(x),L=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(f.a)(t).call(this,e))).state={wellNum:null},d.subscribe((function(){"SELECT_WELL"===d.getState().lastAction.type&&a.setState({wellNum:d.getState().reducer.well.num})})),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.wellNum?l.a.createElement("img",{src:"https://cataas.com/cat/says/".concat(this.state.wellNum,"?size=50&height=350"),alt:"citten"}):"";return l.a.createElement("div",{className:"main__canvas"},e)}}]),t}(l.a.Component),P=function(){return l.a.createElement("main",{className:"main"},l.a.createElement(S,null),l.a.createElement(C,null),l.a.createElement(I,null),l.a.createElement(L,null))},W=function(){return l.a.createElement(c.a,{store:d},l.a.createElement(g,null),l.a.createElement(P,null))};i.a.render(l.a.createElement(W,null),document.getElementById("app"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b49eabff.chunk.js.map